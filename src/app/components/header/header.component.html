<ion-header class="ion-no-border">
  <ion-toolbar mode="ios" [ngClass]="{
    'green': selected == '0',
    'red': selected === '1',
    'orange': selected === '2'
  }">
    <ion-title>{{title}}</ion-title>

    @if(showMenu){
    <ion-buttons slot="end">
      <ion-button [color]="selected ? 'dark' : 'light'" (click)="presentPopover($event)">
        <ion-icon name="menu-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    }
  </ion-toolbar>
</ion-header>

<ion-popover #popover class="menu-popover" [isOpen]="isPopoverOpen" (willDismiss)="isPopoverOpen = false">
  <ng-template>
    <div class="ion-padding popover-content">
      <ion-list lines="none">

        <!-- Home -->
        <ion-item button>
          <ion-icon name="home-outline" slot="start"></ion-icon>
          <ion-label>Home</ion-label>
        </ion-item>

        <!-- Profile -->
        <ion-item button (click)="goTo('profile')">
          <ion-icon name="settings-outline" slot="start"></ion-icon>
          <ion-label>Profile</ion-label>
        </ion-item>

        <!-- Saved Locations -->
        <ion-item button>
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>Saved Locations</ion-label>
          <ion-note slot="end">10+</ion-note>
        </ion-item>

        <!-- Sign Out -->
        <ion-item button>
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Sign Out</ion-label>
        </ion-item>

        <ion-item-divider></ion-item-divider>

        <!-- Access Records Header -->
        <ion-item lines="none" class="section-header">
          <ion-label>Access Records</ion-label>
        </ion-item>

        <!-- History (Highlighted) -->
        <ion-item button class="highlighted" (click)="goTo('history')">
          <ion-icon name="folder-outline" slot="start"></ion-icon>
          <ion-label>History</ion-label>
          <ion-badge slot="end" color="light">8</ion-badge>
        </ion-item>

        <!-- Directory -->
        <ion-item button>
          <ion-icon name="folder-outline" slot="start"></ion-icon>
          <ion-label>Directory</ion-label>
        </ion-item>

        <ion-item-divider></ion-item-divider>

        <!-- Health and Safety Header -->
        <ion-item lines="none" class="section-header">
          <ion-label>Health and Safety</ion-label>
        </ion-item>

        <!-- Emergency Procedures -->
        <ion-item button>
          <ion-icon name="warning-outline" slot="start"></ion-icon>
          <ion-label>Emergency Procedures</ion-label>
        </ion-item>

        <!-- Building Safety Docs -->
        <ion-item button>
          <ion-icon name="book-outline" slot="start"></ion-icon>
          <ion-label>Building Safety Docs</ion-label>
        </ion-item>

        <!-- Report Incident -->
        <ion-item button>
          <ion-icon name="shield-outline" slot="start"></ion-icon>
          <ion-label>Report Incident</ion-label>
        </ion-item>

      </ion-list>

    </div>
  </ng-template>
</ion-popover>