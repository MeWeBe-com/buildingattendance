<ion-header class="ion-no-border">
  <ion-toolbar mode="ios" [ngClass]="{
    'green-toolbar': user?.status == '0',
    'orange-toolbar': user?.status === '1',
    'red-toolbar': user?.status === '2'
  }">
    <ion-title>{{user?.property_name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [ngClass]="{
'green': user?.status == '0',
'orange': user?.status === '1',
'red': user?.status === '2'
}">

  <div class="ion-padding web-container">
    <ion-select label-placement="floating" class="ion-margin-bottom" mode="ios" interface="popover" (ionChange)="onUserSelect($event)">
      <div slot="label">Select User</div>
      @for(u of users; track u?.user_id){
      <ion-select-option [value]="u">{{u?.full_name}}</ion-select-option>
      }
    </ion-select>

  </div>

  @if(selected_user){
  <div class="d-flex align-items-center justify-content-between main-box">
    <div class="user">
      <div class="ion-text-center img-box">
        <div class="upload d-flex align-items-center justify-content-center">
          <img [src]="selected_user?.profile_pic_url">
        </div>

        <div class="name inter-font">{{selected_user?.full_name}}</div>
        <div class="inter-font myp">{{selected_user?.email_address}}</div>
      </div>

    </div>

    <div>
      <div class="ion-text-center arrow-icon">
        <div class="arrow-bg d-flex align-items-center justify-content-center arrow-green icon-pulse"
          (click)="updateStatus(selected_user)">
          <ion-icon
            [name]="selected_user?.is_check_in ? 'arrow-back-circle-outline' : 'arrow-forward-circle-outline'"></ion-icon>
        </div>

        <div class="text inter-font">
          All systems operational.
        </div>
      </div>
    </div>

    <div>
      <div class="ion-text-center check-icon">
        <svg [ngClass]="selected_user?.is_check_in ? 'tick animate' : 'cross animate'"  width="148" height="118" viewBox="0 0 148 118" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_8645_8559)">
            <path d="M133.174 115.24H64.1519V118H133.174V115.24Z" fill="white" />
            <path d="M57.5257 115.24H52.0039V118H57.5257V115.24Z" fill="white" />
            <path d="M46.4822 115.24H40.4082V118H46.4822V115.24Z" fill="white" />
            <path d="M31.5734 115.24H9.48633V118H31.5734V115.24Z" fill="white" />
            <path d="M37.6474 93.1555H29.3647V101.437H37.6474V93.1555ZM34.8865 98.6765H32.1256V95.916H34.8865V98.6765Z"
              fill="white" />
            <path d="M26.6039 93.1555H18.3213V101.437H26.6039V93.1555ZM23.8431 98.6765H21.0822V95.916H23.8431V98.6765Z"
              fill="white" />
            <path d="M37.6474 82.1136H29.3647V90.3951H37.6474V82.1136ZM34.8865 87.6346H32.1256V84.8741H34.8865V87.6346Z"
              fill="white" />
            <path d="M26.6039 82.1136H18.3213V90.3951H26.6039V82.1136ZM23.8431 87.6346H21.0822V84.8741H23.8431V87.6346Z"
              fill="white" />
            <path d="M37.6474 71.0717H29.3647V79.3531H37.6474V71.0717ZM34.8865 76.5926H32.1256V73.8321H34.8865V76.5926Z"
              fill="white" />
            <path d="M26.6039 71.0717H18.3213V79.3531H26.6039V71.0717ZM23.8431 76.5926H21.0822V73.8321H23.8431V76.5926Z"
              fill="white" />
            <path d="M79.6902 76.4822H87.9728V68.2007H79.6902V76.4822ZM82.4511 70.9612H85.212V73.7217H82.4511V70.9612Z"
              fill="white" />
            <path d="M67.719 76.4822H76.0016V68.2007H67.719V76.4822ZM70.4799 70.9612H73.2408V73.7217H70.4799V70.9612Z"
              fill="white" />
            <path d="M56.1453 76.4822H64.4279V68.2007H56.1453V76.4822ZM58.9061 70.9612H61.667V73.7217H58.9061V70.9612Z"
              fill="white" />
            <path d="M37.6474 60.0297H29.3647V68.3111H37.6474V60.0297ZM34.8865 65.5506H32.1256V62.7902H34.8865V65.5506Z"
              fill="white" />
            <path d="M26.6039 60.0297H18.3213V68.3111H26.6039V60.0297ZM23.8431 65.5506H21.0822V62.7902H23.8431V65.5506Z"
              fill="white" />
            <path d="M79.6902 65.4402H87.9728V57.1587H79.6902V65.4402ZM82.4511 59.9192H85.212V62.6797H82.4511V59.9192Z"
              fill="white" />
            <path d="M67.719 65.4402H76.0016V57.1587H67.719V65.4402ZM70.4799 59.9192H73.2408V62.6797H70.4799V59.9192Z"
              fill="white" />
            <path d="M56.1453 65.4402H64.4279V57.1587H56.1453V65.4402ZM58.9061 59.9192H61.667V62.6797H58.9061V59.9192Z"
              fill="white" />
            <path d="M37.6474 48.9877H29.3647V57.2691H37.6474V48.9877ZM34.8865 54.5087H32.1256V51.7482H34.8865V54.5087Z"
              fill="white" />
            <path d="M26.6039 48.9877H18.3213V57.2691H26.6039V48.9877ZM23.8431 54.5087H21.0822V51.7482H23.8431V54.5087Z"
              fill="white" />
            <path d="M79.6902 54.3983H87.9728V46.1168H79.6902V54.3983ZM82.4511 48.8773H85.212V51.6378H82.4511V48.8773Z"
              fill="white" />
            <path d="M67.719 54.3983H76.0016V46.1168H67.719V54.3983ZM70.4799 48.8773H73.2408V51.6378H70.4799V48.8773Z"
              fill="white" />
            <path d="M56.1453 54.3983H64.4279V46.1168H56.1453V54.3983ZM58.9061 48.8773H61.667V51.6378H58.9061V48.8773Z"
              fill="white" />
            <path d="M79.6902 43.3563H87.9728V35.0748H79.6902V43.3563ZM82.4511 37.8353H85.212V40.5958H82.4511V37.8353Z"
              fill="white" />
            <path d="M67.719 43.3563H76.0016V35.0748H67.719V43.3563ZM70.4799 37.8353H73.2408V40.5958H70.4799V37.8353Z"
              fill="white" />
            <path d="M56.1453 43.3563H64.4279V35.0748H56.1453V43.3563ZM58.9061 37.8353H61.667V40.5958H58.9061V37.8353Z"
              fill="white" />
            <path d="M79.6902 32.3143H87.9728V24.0328H79.6902V32.3143ZM82.4511 26.7933H85.212V29.5538H82.4511V26.7933Z"
              fill="white" />
            <path d="M67.719 32.3143H76.0016V24.0328H67.719V32.3143ZM70.4799 26.7933H73.2408V29.5538H70.4799V26.7933Z"
              fill="white" />
            <path d="M56.1453 32.3143H64.4279V24.0328H56.1453V32.3143ZM58.9061 26.7933H61.667V29.5538H58.9061V26.7933Z"
              fill="white" />
            <path
              d="M98.9446 105.385V89.6111L96.3438 87.6843C96.2886 87.6456 96.2334 87.5959 96.1837 87.5573V105.385H81.8879V83.3503H62.2359V105.385H47.5314V13.4105H96.1837V44.6924C97.0727 44.455 98.0004 44.1458 98.9446 43.7814V10.65H89.6018V0H54.522V10.65H44.7705V41.8601H7.61452V105.385H0V108.145H148V105.385H98.9446ZM57.2828 2.76049H86.8409V10.65H57.2828V2.76049ZM44.7098 105.385H10.3754V44.6206H44.7043V105.385H44.7098ZM79.127 105.385H64.9968V86.1108H79.127V105.385Z"
              fill="white" />

            <path
              d="M116.001 99.4881L114.29 98.2404L97.6636 85.912C93.5333 82.8479 91.0706 77.9508 91.0706 72.8107V47.5798L93.6216 47.3866C101.915 46.7572 114.279 37.7138 114.406 37.62L116.046 36.4109L117.685 37.62C117.807 37.7138 130.176 46.7572 138.464 47.3866L141.015 47.5798V72.8107C141.015 77.9508 138.547 82.8479 134.416 85.912L117.619 98.3674L116.007 99.4881H116.001ZM96.5923 52.5266V72.8107C96.5923 76.2117 98.2213 79.447 100.955 81.4732L116.046 92.6642L131.131 81.4732C133.864 79.447 135.499 76.2062 135.499 72.8107V52.5266C128.05 50.9973 119.563 45.6199 116.051 43.2238C112.539 45.6199 104.052 50.9973 96.5979 52.5266H96.5923Z"
              fill="#13FF02"
              />
            <path
              d="M114.074 78.4918L103.771 68.1897L107.674 64.2863L114.074 70.6796L124.654 60.1014L128.558 64.0048L114.074 78.4918Z"
              fill="#13FF02"/>
            <path
              d="M126.15 61.062L122.246 57.1587L115.919 63.4857L109.585 57.1587L105.681 61.062L112.015 67.3891L105.681 73.7216L109.585 77.625L115.919 71.2924L122.246 77.625L126.15 73.7216L119.822 67.3891L126.15 61.062Z"
              fill="#FF3B30"/>

          </g>
        </svg>

        <div class="status-container">
          @if (selected_user?.is_check_in) {
            <div class="cont" @slideIn>Checked In</div>
          } @else {
            <div class="cont" @slideIn>Checked Out</div>
          }
        </div>

      </div>
    </div>

  </div>
  }

</ion-content>